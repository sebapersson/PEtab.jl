<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Importing PEtab Standard Format · PEtab.jl</title><meta name="title" content="Importing PEtab Standard Format · PEtab.jl"/><meta property="og:title" content="Importing PEtab Standard Format · PEtab.jl"/><meta property="twitter:title" content="Importing PEtab Standard Format · PEtab.jl"/><meta name="description" content="Documentation for PEtab.jl."/><meta property="og:description" content="Documentation for PEtab.jl."/><meta property="twitter:description" content="Documentation for PEtab.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/custom_theme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">PEtab.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Extended Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../petab_simcond/">Simulation conditions</a></li><li><a class="tocitem" href="../petab_preeq_simulations/">Steady-State Simulations (Pre-Equilibration)</a></li><li><a class="tocitem" href="../petab_event/">Events (callbacks, dosages, etc.)</a></li><li><a class="tocitem" href="../petab_cond_specific/">Simulation Condition-Specific Parameters</a></li><li><a class="tocitem" href="../petab_obs_noise/">Noise and Observable Parameters</a></li><li class="is-active"><a class="tocitem" href>Importing PEtab Standard Format</a><ul class="internal"><li><a class="tocitem" href="#Input-a-Valid-PEtab-Problem"><span>Input - a Valid PEtab Problem</span></a></li><li><a class="tocitem" href="#Importing-a-PEtabModel"><span>Importing a PEtabModel</span></a></li><li><a class="tocitem" href="#What-Happens-During-PEtab-Import-(Deep-Dive)"><span>What Happens During PEtab Import (Deep Dive)</span></a></li><li><a class="tocitem" href="#References"><span>References</span></a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Parameter Estimation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../pest_method/">Parameter Estimation Methods</a></li><li><a class="tocitem" href="../pest_plot/">Plotting Estimation Results</a></li><li><a class="tocitem" href="../pest_algs/">Available and Recommended Algorithms</a></li><li><a class="tocitem" href="../pest_select/">Model Selection with PEtab-select</a></li><li><a class="tocitem" href="../pest_custom/">Wrapping Optimization Packages</a></li></ul></li><li><a class="tocitem" href="../inference/">Bayesian Inference</a></li><li><a class="tocitem" href="../API/">API</a></li><li><a class="tocitem" href="../grad_hess_methods/">Gradient and Hessian Methods</a></li><li><a class="tocitem" href="../default_options/">Default Options</a></li><li><input class="collapse-toggle" id="menuitem-9" type="checkbox"/><label class="tocitem" for="menuitem-9"><span class="docs-label">Performance Tips</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../nonstiff_models/">Non-Biology (Non-Stiff) Models</a></li><li><a class="tocitem" href="../Beer/">Condition-Specific Parameters</a></li><li><a class="tocitem" href="../Bachmann/">Adjoint Sensitivity Analysis (Large Models)</a></li></ul></li><li><a class="tocitem" href="../references/">References</a></li><li><a class="tocitem" href="../FAQ/">FAQ</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Extended Tutorials</a></li><li class="is-active"><a href>Importing PEtab Standard Format</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Importing PEtab Standard Format</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/sebapersson/PEtab.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/sebapersson/PEtab.jl/blob/main/docs/src/import_petab.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="import_petab_problem"><a class="docs-heading-anchor" href="#import_petab_problem">Importing PEtab Standard Format</a><a id="import_petab_problem-1"></a><a class="docs-heading-anchor-permalink" href="#import_petab_problem" title="Permalink"></a></h1><p><a href="https://petab.readthedocs.io/en/latest/">PEtab</a>, from which PEtab.jl gets its name, is a flexible, table-based standard format for specifying parameter estimation problems [<a href="../references/#schmiester2021petab">7</a>]. If a problem is provided in this standard format, PEtab.jl can import it directly. This tutorial covers how to import PEtab problems.</p><h2 id="Input-a-Valid-PEtab-Problem"><a class="docs-heading-anchor" href="#Input-a-Valid-PEtab-Problem">Input - a Valid PEtab Problem</a><a id="Input-a-Valid-PEtab-Problem-1"></a><a class="docs-heading-anchor-permalink" href="#Input-a-Valid-PEtab-Problem" title="Permalink"></a></h2><p>To import a PEtab problem, a valid PEtab problem is required. A tutorial on creating a PEtab problem can be found in the PEtab <a href="https://petab.readthedocs.io/en/latest/">documentation</a>, and a <a href="https://github.com/PEtab-dev/PEtab/tree/main">linting tool</a> is available in Python for checking correctness. Additionally, PEtab.jl performs several format checks when importing the problem.</p><p>A collection of valid PEtab problems is also available in the PEtab benchmark <a href="https://github.com/Benchmarking-Initiative/Benchmark-Models-PEtab">repository</a>. In this tutorial, we will use an already published model from the PEtab benchmark repository. Specifically, we will consider the STAT5 signaling model, referred to here as the Boehm model (after the first author) [<a href="../references/#boehm2014identification">8</a>]. The PEtab files for this model can be found <a href="https://github.com/sebapersson/PEtab.jl/tree/main/docs/src/assets/boehm">here</a>.</p><h2 id="Importing-a-PEtabModel"><a class="docs-heading-anchor" href="#Importing-a-PEtabModel">Importing a PEtabModel</a><a id="Importing-a-PEtabModel-1"></a><a class="docs-heading-anchor-permalink" href="#Importing-a-PEtabModel" title="Permalink"></a></h2><p>A PEtab problem consists of five files: an <a href="https://sbml.org/">SBML</a> model file, a table with simulation conditions, a table with observables, a table with measurements, and a table with parameters to estimate. These are tied together by a YAML file, and to import a problem, you only need to provide the YAML file path:</p><pre><code class="language-julia hljs">using PEtab
# path_yaml depends on where the model is saved
path_yaml = joinpath(@__DIR__, &quot;assets&quot;, &quot;boehm&quot;, &quot;Boehm_JProteomeRes2014.yaml&quot;)
model = PEtabModel(path_yaml)</code></pre><p>Given a <code>PEtabModel</code>, it is straightforward to create a <code>PEtabODEProblem</code>:</p><pre><code class="language-julia hljs">petab_prob = PEtabODEProblem(model)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr1">PEtabODEProblem:</span> <span class="sgr34">boehm</span> with ODE-states 8 and 9 parameters to estimate
---------------- <span class="sgr1">Problem options</span> ---------------
Gradient method: <span class="sgr34">ForwardDiff</span>
Hessian method: <span class="sgr34">ForwardDiff</span>
ODE-solver nllh: <span class="sgr34">Rodas5P</span>
ODE-solver gradient: <span class="sgr34">Rodas5P</span></code></pre><p>As described in the starting <a href="../tutorial/#tutorial">tutorial</a>, this <code>PEtabODEProblem</code> can then be used for parameter estimation, or Bayesian inference. For tunable options when importing a PEtab problem, see the <a href="../API/#API">API</a> documentation.</p><h2 id="What-Happens-During-PEtab-Import-(Deep-Dive)"><a class="docs-heading-anchor" href="#What-Happens-During-PEtab-Import-(Deep-Dive)">What Happens During PEtab Import (Deep Dive)</a><a id="What-Happens-During-PEtab-Import-(Deep-Dive)-1"></a><a class="docs-heading-anchor-permalink" href="#What-Happens-During-PEtab-Import-(Deep-Dive)" title="Permalink"></a></h2><p>When importing a PEtab model, several things happen:</p><ol><li>The SBML file is converted into a <a href="https://github.com/SciML/Catalyst.jl">Catalyst.jl</a> <code>ReactionSystem</code> using the <a href="https://github.com/sebapersson/SBMLImporter.jl">SBMLImporter.jl</a> package. This <code>ReactionSystem</code> is then converted into an <code>ODESystem</code>. During this step, the model is symbolically pre-processed, which includes computing the ODE Jacobian symbolically. The latter typically improves simulation performance.</li><li>The observable PEtab table is translated into Julia functions that compute observables (<code>h</code>), measurement noise (<code>σ</code>), and initial values (<code>u0</code>).</li><li>Any potential model events are translated into Julia <a href="https://docs.sciml.ai/DiffEqDocs/stable/features/callback_functions/">callbacks</a>.</li></ol><p>All of these steps happen automatically. By setting <code>write_to_file=true</code> when importing the model, the generated model functions can be found in the <code>dir_yaml/Julia_model_files/</code> directory.</p><h2 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h2><div class="citation noncanonical"><dl><dt>[7]</dt><dd><div>L. Schmiester, Y. Schälte, F. T. Bergmann, T. Camba, E. Dudkin, J. Egert, F. Fröhlich, L. Fuhrmann, A. L. Hauber, S. Kemmer and others. <em>PEtab—Interoperable specification of parameter estimation problems in systems biology</em>. PLoS computational biology <strong>17</strong>, e1008646 (2021).</div></dd><dt>[8]</dt><dd><div>M. E. Boehm, L. Adlung, M. Schilling, S. Roth, U. Klingmüller and W. D. Lehmann. <em>Identification of isoform-specific dynamics in phosphorylation-dependent STAT5 dimerization by quantitative mass spectrometry and mathematical modeling</em>. Journal of proteome research <strong>13</strong>, 5685–5694 (2014).</div></dd></dl></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../petab_obs_noise/">« Noise and Observable Parameters</a><a class="docs-footer-nextpage" href="../pest_method/">Parameter Estimation Methods »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Wednesday 2 October 2024 14:09">Wednesday 2 October 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
